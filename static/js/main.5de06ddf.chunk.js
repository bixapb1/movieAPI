(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(45),i=n.n(c),o=n(16),s=n(27),j=n(13),l=(n(98),n(5)),d=n(7),u=n(117),b=n(77),x=n.n(b),h=n(123),p=n(128),f=n(129),m=n(131),O=n(132),v=n(133),g=n(125),y=n(134),w=n(78),k=n.n(w),M=n(34),S=n.n(M),C=n(51),I="MOVIES",E="SEARCH",_="FAVORITE_MOVIES",F="VIEWER_MOVIE";function B(e){return{type:I,payload:e}}function V(e){return{type:_,payload:e}}var W=n(2),G=Object(d.a)("div")((function(e){var t=e.theme;return Object(l.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(u.a)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(u.a)(t.palette.common.white,.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"})})),J=Object(d.a)("div")((function(e){return{padding:e.theme.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),R=Object(d.a)(h.a)((function(e){var t=e.theme;return{color:"inherit","& .MuiInputBase-input":Object(l.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function A(){var e=Object(o.c)((function(e){return e.myFavoriteMovies})),t=Object(o.b)();return Object(W.jsx)(p.a,{sx:{flexGrow:1},children:Object(W.jsx)(f.a,{position:"fixed",children:Object(W.jsx)(m.a,{maxWidth:"xl",children:Object(W.jsxs)(O.a,{children:[Object(W.jsx)(v.a,{size:"small",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},children:Object(W.jsx)(s.b,{to:"/",children:"Home"})}),Object(W.jsx)(v.a,{size:"small",edge:"start",color:"inherit","aria-label":"open drawer",sx:{mr:2},children:Object(W.jsx)(g.a,{badgeContent:e?e.length:0,color:"error",children:Object(W.jsx)(s.b,{to:"/favorite",children:Object(W.jsx)(x.a,{})})})}),Object(W.jsx)(y.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}}}),Object(W.jsxs)(G,{onChange:function(e){return t((n=e.target.value,{type:E,payload:n}));var n},children:[Object(W.jsx)(J,{children:Object(W.jsx)(k.a,{})}),Object(W.jsx)(R,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"}})]})]})})})})}var N=n(127),z=n(14),D=n.p+"static/media/no-poster.d7e60210.jpg",H=n(135),L=n(136),U=n(137),q=n(138),P=n(124),T=n(139),K=n(140);function Q(e){var t=e.movie,n=t.title,a=t.vote_average,r=t.id,c=t.poster_path,i=Object(o.c)((function(e){return e.myFavoriteMovies})),j=Object(o.b)(),l=i.find((function(e){return e.id===r})),d=i.filter((function(e){return e.id!==r}));function u(e){j(V(e)),localStorage.setItem("favorite-movie",JSON.stringify(e))}return Object(W.jsxs)(H.a,{id:r,sx:{maxWidth:300,height:"100%"},children:[Object(W.jsxs)(L.a,{component:s.b,to:"/movie/".concat(r),sx:{height:"95%",display:"flex",justifyContent:"flex-start",flexDirection:"column"},children:[Object(W.jsx)(U.a,{component:"img",height:"auto",src:c?"https://image.tmdb.org/t/p/w500/".concat(c):D,alt:n}),Object(W.jsxs)(q.a,{sx:{flexGrow:"1",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(W.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"div",sx:{textAlign:"center"},children:n}),Object(W.jsx)(y.a,{variant:"body2",color:"text.secondary",children:Object(W.jsx)(P.a,{name:"half-rating-read",defaultValue:0,value:a/2,precision:.5,readOnly:!0})})]})]}),Object(W.jsx)(T.a,{sx:{height:"5%",width:"100%",m:"0px auto",p:"0px"},children:Object(W.jsx)(K.a,{id:r,sx:{height:"100%",width:"100%",flex:1},size:"small",color:"primary",onClick:function(){Boolean(l)?u(d):u([].concat(Object(z.a)(i),[t]))},children:Boolean(l)?"remove movie":"add movie"})})]},r)}function X(){var e=Object(o.c)((function(e){return e.arrayMovies}));return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(m.a,{sx:{mt:10},maxWidth:"xl",children:Object(W.jsx)(p.a,{sx:{flexGrow:1},children:Object(W.jsx)(N.a,{container:!0,spacing:2,sx:{justifyContent:"center"},children:e?e.map((function(e){return Object(W.jsx)(N.a,{item:!0,sm:6,md:3,children:Object(W.jsx)(Q,{movie:e})},e.id)})):""})})})})}function Y(){var e=Object(o.c)((function(e){return e.myFavoriteMovies}));return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(m.a,{sx:{mt:10},maxWidth:"xl",children:Object(W.jsx)(p.a,{sx:{flexGrow:1},children:Object(W.jsx)(N.a,{container:!0,spacing:2,sx:{justifyContent:"center"},children:e?e.map((function(e){return Object(W.jsx)(N.a,{item:!0,sm:6,md:3,children:Object(W.jsx)(Q,{movie:e})},e.id)})):""})})})})}function Z(){var e=Object(o.c)((function(e){return e})),t=e.viewerMovie,n=e.myFavoriteMovies,r=Object(o.b)(),c=Object(j.f)().id;Object(a.useEffect)((function(){r(function(e){return function(){var t=Object(C.a)(S.a.mark((function t(n){var a,r,c;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=aba76a579f8ef1f0586b7ce86f0bf326&language=en-US"),t.next=3,fetch(a);case 3:return r=t.sent,t.next=6,r.json();case 6:c=t.sent,n({type:F,payload:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(c))}),[r,c]);var i=n.find((function(e){return e.id===+c})),l=n.filter((function(e){return e.id!==+c}));function d(e){r(V(e)),localStorage.setItem("favorite-movie",JSON.stringify(e))}return Object(W.jsxs)(N.a,{sx:{mt:10,px:1},container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[Object(W.jsx)(N.a,{item:!0,xs:12,md:4,children:Object(W.jsx)(U.a,{sx:{maxWidth:345,m:"0 auto",boxShadow:"0px 0px 10px 5px rgba(15, 15, 15, 0.44)"},component:"img",height:"auto",src:t.poster_path?"https://image.tmdb.org/t/p/w500/".concat(t.poster_path):D,alt:t.title})}),Object(W.jsxs)(N.a,{item:!0,xs:12,md:4,children:[" ",Object(W.jsxs)(q.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(W.jsx)(y.a,{sx:{m:2,textAlign:"center"},gutterBottom:!0,variant:"h4",component:"div",children:t.title}),Object(W.jsx)(y.a,{variant:"body2",color:"text.secondary",children:t.overview}),Object(W.jsxs)(y.a,{sx:{justifyContent:"flex-end"},component:"span",variant:"h6",color:"text.secondary.black",children:["Release date: ",t.release_date]}),Object(W.jsxs)(y.a,{sx:{justifyContent:"space-between",py:1},component:"span",variant:"body1",color:"text.secondary.black",children:["Genres:",Boolean(0!==t.length)?t.genres.map((function(e){return Object(W.jsx)(y.a,{component:"span",sx:{pl:1},children:e.name},e.id)})):""]}),Object(W.jsx)(P.a,{name:"half-rating-read",defaultValue:0,value:t.vote_average/2,precision:.5,readOnly:!0}),Object(W.jsxs)(p.a,{children:[Object(W.jsx)(K.a,{sx:{m:2},onClick:function(){Boolean(i)?d(l):d([].concat(Object(z.a)(n),[t]))},variant:"outlined",children:Boolean(i)?"remove movie":"add movie"}),Object(W.jsx)(K.a,{sx:{m:2},component:s.b,to:"/",variant:"outlined",children:"Home"})]})]})]})]})}var $=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.search}));return Object(a.useEffect)((function(){e(""!==t?function(){var e=Object(C.a)(S.a.mark((function e(t,n){var a,r,c,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().search,r="https://api.themoviedb.org/3/search/movie?api_key=aba76a579f8ef1f0586b7ce86f0bf326&query=".concat(a,"&language=en-US"),e.next=4,fetch(r);case 4:return c=e.sent,e.next=7,c.json();case 7:i=e.sent,t(B(i.results));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}():function(){var e=Object(C.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch("https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=aba76a579f8ef1f0586b7ce86f0bf326&language=en-US");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,t(B(a.results));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e,t]),Object(a.useEffect)((function(){if(JSON.parse(localStorage.getItem("favorite-movie"))){var t=JSON.parse(localStorage.getItem("favorite-movie"));e(V(t))}}),[e]),Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(s.a,{children:[Object(W.jsx)(A,{}),Object(W.jsxs)(j.c,{children:[Object(W.jsx)(j.a,{exact:!0,path:"/favorite",children:Object(W.jsx)(Y,{})}),Object(W.jsx)(j.a,{exact:!0,path:"/",children:Object(W.jsx)(X,{})}),Object(W.jsx)(j.a,{exact:!0,path:"/movie/:id",children:Object(W.jsx)(Z,{})})]})]})})},ee=n(53),te=n(29),ne={arrayMovies:[],search:"",myFavoriteMovies:[],viewerMovie:[]},ae=n(79),re=Object(ee.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(te.a)(Object(te.a)({},e),{},{arrayMovies:t.payload});case E:return Object(te.a)(Object(te.a)({},e),{},{search:t.payload});case _:return Object(te.a)(Object(te.a)({},e),{},{myFavoriteMovies:t.payload});case F:return Object(te.a)(Object(te.a)({},e),{},{viewerMovie:t.payload});default:return e}}),Object(ee.b)(Object(ee.a)(ae.a)));i.a.render(Object(W.jsx)(o.a,{store:re,children:Object(W.jsx)(r.a.StrictMode,{children:Object(W.jsx)($,{})})}),document.getElementById("root"))},98:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.5de06ddf.chunk.js.map